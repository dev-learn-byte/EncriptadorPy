{
    "sourceFile": "encrypt_password.py",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1767724032617,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1767724032616,
            "name": "Commit-0",
            "content": "\"\"\"\r\nEncriptador de Contrase√±as\r\n\"\"\"\r\nfrom cryptography.fernet import Fernet\r\nimport getpass\r\nfrom pathlib import Path\r\n\r\n\r\ndef encrypt_password():\r\n    \"\"\"Encripta una contrase√±a usando la llave secreta\"\"\"\r\n\r\n    # Buscar llave\r\n    key_file = Path.home() / '.crypto_keys' / 'as400_key.key'\r\n\r\n    if not key_file.exists():\r\n        print(\"=\" * 70)\r\n        print(\"‚ùå ERROR: No se encuentra la llave de encriptaci√≥n\")\r\n        print(\"=\" * 70)\r\n        print(\"Primero debes ejecutar: python generate_key.py\")\r\n        print(\"=\" * 70)\r\n        return\r\n\r\n    # Leer llave\r\n    with open(key_file, 'rb') as f:\r\n        key = f.read()\r\n\r\n    # Crear cipher\r\n    cipher = Fernet(key)\r\n\r\n    # Pedir contrase√±a\r\n    print(\"=\" * 70)\r\n    print(\"üîê ENCRIPTADOR DE CONTRASE√ëAS\")\r\n    print(\"=\" * 70)\r\n    password = getpass.getpass(\"Ingresa la contrase√±a a encriptar: \")\r\n    password_confirm = getpass.getpass(\"Confirma la contrase√±a: \")\r\n\r\n    if password != password_confirm:\r\n        print(\"\\n‚ùå ERROR: Las contrase√±as no coinciden\")\r\n        return\r\n\r\n    # Encriptar\r\n    encrypted = cipher.encrypt(password.encode())\r\n\r\n    print(\"\\n\" + \"=\" * 70)\r\n    print(\"‚úÖ CONTRASE√ëA ENCRIPTADA EXITOSAMENTE\")\r\n    print(\"=\" * 70)\r\n    print(\"\\nüìã COPIA ESTA L√çNEA Y AGR√âGALA A TU ARCHIVO .env:\")\r\n    print(\"-\" * 70)\r\n    print(f\"{encrypted.decode()}\")\r\n    print(\"-\" * 70)\r\n    print(\"\\n‚ö†Ô∏è Pasos siguientes:\")\r\n    print(\"1. Copia la l√≠nea de arriba\")\r\n    print(\"2. Abre tu archivo .env en proyecto_cau\")\r\n    print(\"3. Busca  la l√≠nea: AS400_PASSWORD\")\r\n    print(\"4. Pega la l√≠nea AS400_PASSWORD_ENCRYPTED=...\")\r\n    print(\"=\" * 70)\r\n\r\n\r\nif __name__ == \"__main__\":\r\n    encrypt_password()"
        }
    ]
}